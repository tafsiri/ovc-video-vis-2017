Untangling the Hairball
John Alexis Guerra Gomez

>> Hi, everybody.  We're going to get started.  Is everyone caffeinated?  I know I am.  Excellent.  Love that all day coffee.  I'm excited to welcome our next speaker, John.  A researcher at Los Angeles University.  Investigating novel visualization techniques with trees.  And previously worked at Yahoo! Labs and park.  And I saw his work at Info Viz and demanded he submit a talk for OpenVis Conf.  Thank you.  Please welcome John.
[ Applause ]
>> Thank you.  Wow.  That's a lot of people.  Anyhow, I'm John Alexis Guerra Gomez.  The full thing.  And it's Colombia, not Columbia.  By the way.  But I get to work in this beautiful place.  This is Los Angeles University.  That is what I call work.  And also, the place that makes these beautiful� I wonder what I'm going to write?
So it's a beautiful country, you should come and visit.  I'm here because I had an idea, a question.  The thing is that there was OpenVis 2014 and 2015.  Because I didn't know about the conference in the first time.  And then I realized this thing existed and I couldn't come.
I applied like three or four times until I bribed Eileen� to get accepted.  But I could follow online.  So when I was doing that, I actually realized some things.  The first thing is that I definitely needed to go.  So I ended up paying by my pocket like last year.  And the other thing I realized, thanks to the amazing bloggers and semijournalist people� we get to follow everything through Tweeter in here.  So it was quite interesting.  And then I was getting so much information in there.  But then I ask, am I getting it all?  Am I following all the right people that I need to follow in data Viz that are talking about that?
So I started writing scripts to see if I could see that.  Then, well what if I see and check all the people talking about OpenVis.  And then I found more than 3,000 tweets.  This is from last year.  This year we are around 2500 right now.  So we are kind of doubling that.  And then there were like almost 800 accounts of people tweeting about that.  And it was interesting.  But then I had another question.  Which is, what about the interesting people that are talking� interested in data Vis, but don't interact with the OpenVis Conf.  So, for instance, where is Mike?  There you are.  So Mike Bostock.  He didn't tweet about OpenVis last year.
[ Laughter ]
Why?  What were you doing, man?  Were you writing version 4, D3 express, one of these things.  Thank you very much for all the word.  The cheese from Madrid, sorry, Spaniards.  Yes, thank you very much, Mike, for the work you do.  He didn't tweet about OpenVis, but we need to follow him otherwise we would have missed the wonderful stuff about D3 express.  So he wasn't there.  That's when I started saying, like, well, I had a realization.  What if I follow all the people that you guys follow the most?  And that was the click.  And that was when I was� bam bam bam bam!  [singing beautifully]
That's how we celebrate in Colombia.  That's it.  I have to follow the people that you guys follow the most.  And that's how I come up with this list.  And, of course, Mike is on the top of the list apart from the OpenVis Conf.  And then we have the big figures.  We have the organizers.  And then I knew, okay, that's an insight.  That's something that I really care about.  However, I love networks and I come and have done a lot of work on that.  And we have the beautiful D3 network visualizations.  So let's look at that.  And that happened.  Nadieh showed some examples.  That's called a hairball.  That's what this talk is about.  How the heck do we get that thing to show insights?  That's the important thing of doing data visualization.  Well, we can come from the notes and WEBP we show� say the top 300.  What will we get?  A hairball.  Let's say we get only the most influential ones.  Out of those 300, look at only the ones that were actually tweeting about the OpenVis Conf.  What do we get?  Well, a hairball.  So I say let's find an algorithm that computes the communities in the network and try to separate the different clusters and get all the data scientists and plasticity, blah, blah, that's going to solve the work.  And what do you get?  A hairball.
So in that moment, let's go back to my question.  What was I asking at the beginning?  What I was asking, what are the most important people that I should be following?  And then what I did was create a scatterplot.  I fixed the positions.  And then on the X axis you have how many people are following them.  And then how many people are actually following them inside the conference.  And by the way, there is a number in here, but Mike Bostock is around here somewhere.  And what you have in here� sorry, he wasn't talking about OpenVis.  Sorry, Mike.  But in any case, what you can find is I was interested in following people around these areas.  I wanted to find people that I wasn't following and they were in here.
And then you can draw your own conclusions in trying to find what were the ones that you weren't following that with a good balance of how many people followed them.
So to improve this I actually removed the links, and that's the visualization I created.  You get Jeff, Alberto Cairo, and all of the nice people.  And then the nice thing with this representation I can add back the notes.  And in that case, Mike, and then you have interesting stuff.  And one of the most interesting ones is this one.  Do you know who is this guy?  I'm sorry, by the way, Mike, I need your help getting this thing to work.
[ Laughter ]
So I hope you still like me.  Please don't stop following me.  So who is that guy?  Who knows?  That is Edward Tufte.  He has around 82,000 followers.  But if you look at him, how many people are actually following him in the conference?  That was very interesting, because if you know that his relationship with the community on Twitter is not the best with many people.
So I was actually amazed to see that reflected in that.  But anyhow, you can draw your own conclusions.  Please don't stop funding the conference.  Anyhow.  So after doing that, I say, well, what if we actually look at how many Tweets they did in the conference?  And then we have our beautiful bloggers and the people that are actually helping us know what is happening on the conference.  And then you can see all the nice people that were doing that.  So these are the type of things that we need to be doing with initial visualizations.  And there are tools and techniques that we can use to untangle the hairball.  Let's talk about that.  And for that, back to the basics.  That's me on graduation day.  That is Ben and Katrine, my two advisers, from the wonderful ATIL laboratory in the University of Maryland.  And every time you talk to them, I start a new project with them, they will say, what are your tasks?  What are your users?  That sticks with me.  And when you're doing a network visualization, that's what you need to ask yourself.  What do you want to answer with that visualization?  For that I have to recommend you very strongly this book.  So I'm using this to teach the two classes I'm teaming on data Viz in Los Angeles and Berkeley.  I'm trying to push those in Berkeley to use it.  But it's on data visualization and design.  It's a wonderful book because it creates this is amazing framework that helps you define what is the data that you're analyzing?  What are the tasks that you're doing?  And then how you can actually visualize that.  It's a beautiful framework that you can actually follow simple rules, and then you will get better visualizations just by framing on that.  So I can give a lecture of an hour on all the different types of tasks.  But the most important thing that I have identified with network visualizations are two types of tasks.  One are overviews.  If you want to get a whole idea of the network.  And the other one is when you want to query on a specific note.  Those are the query tasks.  So start with the overview tasks.  So with the overview I have shown you some things.  And this is the Ieeee vis citation network, a beautiful hairball.  Up through 2015.  And the first thing to recommend when doing that, instead of the whole network, select the most important notes out of the network.  How do you get those most important notes?  Well, think about the task you have at hand.  So in my case when I was looking at these people, then I wanted to find the people that had the biggest number of followers that actually Tweeted about OpenVis and things like that.
When I was finding fishy doctors, I was trying to find doctors with very suspicious behavior.  You can find different metrics that you can actually use to rank those notes, and then you select the most important notes.  Most important ones.  However, if you have a very big network, the thing is that network most probably will probably not be very well connected.  So one of the simple tricks I did is that once you select that core of 10% of the notes or something, then you should go and try to get the neighborhood of that 10%.  So when you do that, it's a very simple trick, and then you have a small number of notes that will create a representation of the network, and then if you allow the user to actually interact with that and select different filters, then they can gather insights from that.
So the next thing is that you can use communities.  Community detection.  So that was something very common.  And I really hated every time having to go to R and then running the queries in there and cluster in there.  So what I did is, that the help of some code that I found online, I created a library called net cluster in JS.  Allows you to go from this to this.  And the most interesting thing, it actually runs in the browser.  And the beautiful thing is you can let the user create a lot of filters, select the notes they care about, and then cluster.  And it's actually acceptably fast if you have a good enough network.  And by the way, if you tried to show more than a thousand notes on a browser, there's not much that you can actually see.  But even on a network like that, it will take one or two seconds to cluster that.
Now, even showing something like that, you can see that it's like, yeah, you see the colors and everything, but you don't really see the actual clusters.  So using an anagram called Group in a Box.  That you have to come from Maryland, it separates the notes into their own boxes.  That is what is called a group in a box.  It's with a very good friend, Ben Schneiderman and other folks.  And I created an implementation of that on the tree.  I did it for D3 version three.  And then Mike changed the whole force simulation thing.  But actually, with the new, I don't know if you have done networks in D3 version 4, it's amazing.
Because right now it's just a matter of creating a force that grows the nodes to a certain position.  Today I'm releasing force in a box for D3 version 4.  It's as simple as adding a new force so your simulation and then setting the different link strengths and things like that, and you can get this.  Now, the other thing I created is that if you don't want to do that, then I created a force directed layout for a force director layout.  So what this thing does is that it creates like clusters, and each one of the clusters, look at it as a note and that note will be used to create the way it's actually moving.  As you see here, I can spend the rest 15 minutes of my talk just doing this.
So it'll adapt to whatever resolution you have in there.  And all of that is thanks to master Mike.  Thank you very much.  It's open source and super easy to use.  Please send feedback.
Every time I showed my users these things, the next thing they wanted to know is like, oh, that cluster in the top, that one looks suspicious.  Or I want to see who are the people in there?  That is what I call jump into a cluster.  That is that you can create some interactions that you can click on this, and once you do that, it actually goes and only filters that node.  And since we have the force in the box that can run in the browser.  You can recluster, redistribute on the screen and keep on repeating that as many times as you want.  If you're doing that, you have to get the user know how deep they are into it.  But it's a great way of filtering down into the details.  The whole idea of drawing insights.  Now, having said that, another tip of something that could be really useful for doing visualization.  What I did with the OpenVis visualization, is just to have a fixed layout.  So in this case I was very jealous because you Americans had all of these beautiful grid maps and Chris created his own representation in which you can see the different states with the same size.  You know which ones I'm talking about?  The ones that you see with political results.  But in Colombia we didn't have that.  And Chris wrote a beautiful article explaining how you have to pretty much do those manually.
So I didn't have the time to do that.  But what I did is just� I created a force layout that represented the states in Colombia.  And then just by moving those states I came up with this one.  And essentially one of my students in Berkeley actually created a new version of this for the U.S. one, and it's actually quite useful.  It's not really, truly a network, but it kind of explains the idea of why fixing things into certain positions can be useful.
Now, having said that, the other type of things that you can do on query� sorry, or networks, are query.  And by query, choose one node, and out of the node you can create ego centric views.  What you can do with the ego centric views are like we saw with Nadieh.  Select the node, what are the nodes connected to them?  One or two or three steps away from them?  And then if you can provide interactions that allow people to select one node and expand, that's marvelous.  But I don't have much time for this.  So I'm going to jump very quickly on that.  Now, all of that is all the different things that I have been doing in D3 that helped me in untangling networks.  But I wanted to share, for the first time in the world, we are talking about network cube.net.  It's initiated by John, Benjamin, Natalie, and however you pronounce his name.  They have been creating this open source application that is actually a framework that you can go and upload your own data.  And the nicest thing about it is that it has the basic network visualizations, but apart from that, the different representations that go beyond the node link representation.  So if you click on the note link it will scale very well.  And it's also for dynamic networks so it will work if it changes over time.  But apart from that you can use matrix representations, timelines.  We hear about them earlier today.  And you can use mixed approaches.  So it's free for use.  It's not commercial and it is just what we have been creating just to allow people to untangle more networks.  So please feel free to use it.  Go and visit the Website and let us know if you guys have any feedback on that.  So with that I would like to give you just a bunch of recommendations of the type of things that you can do for defining your networks.
And always remember to define your tasks.  Always remember if you filter� actually you could be showing more.  Sometimes less is more.  If you have tasks for overview or query.  And there are many alternatives beyond the note link that you can actually use with that.  And by the way, that should be updating life on the Tweets that you guys are doing.  I have been creating the hairball for this year.  There you go.  There appears a new one.  With that, I will thank you very much�and welcome any questions you may have.
[ Applause ]
Questions� do I need to dance more?  I think we're good.  Well, thank you very much, again.
[ Applause ]
